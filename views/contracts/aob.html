<!-- views/contracts/aob.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BLUEGRASS ROOFING ASSIGNMENT OF BENEFITS (AOB)</title>

  <!-- Load SignaturePad from a CDN (removes need for local JS file) -->
  <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    /* Highlighting focused input fields */
    input:focus,
    .form-group textarea:focus {
      border: 1px solid #E18263 !important;
      outline: none;
      box-shadow: 0 0 0 2px #E18263;
    }

    /* Make canvases responsive */
    canvas {
      width: 100%;
      height: auto; /* Scales with container on smaller screens */
    }

    /* Basic container and form element styling could go here if desired */
    .clear-button {
      display: inline-block;
      margin-top: 0.5rem;
      padding: 0.4rem 0.75rem;
      font-size: 0.9rem;
      color: #fff;
      background-color: #999;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      outline: none;
    }
    .clear-button:hover {
      background-color: #777;
    }
  </style>
</head>
<body style="margin:0; padding:0; font-family:Arial, sans-serif; font-size:14px; color:#000; line-height:1.5;">

  <!-- PAGE 1 -->
  <div style="max-width:800px; margin:0 auto; padding:20px; box-sizing:border-box;">
    <h2 style="font-size:18px; text-align:center; margin-top:0; font-weight:bold;">
      BLUEGRASS ROOFING ASSIGNMENT OF BENEFITS (AOB)
    </h2>

    <p style="margin-bottom:10px;">
      This Assignment of Benefits (AOB) is entered into to streamline and simplify the insurance claims process related
      to roofing services. By signing this agreement, the Client authorizes Bluegrass Roofing (Premier Construction Group, LLC)
      to act on their behalf in matters relating to insurance claims, including but not limited to filing, negotiating,
      and settling claims for roofing repairs or replacement. This agreement is designed to relieve the Client of the administrative burden
      and facilitate the timely and professional completion of the necessary roofing work.
    </p>

    <h3 style="margin-bottom:6px; font-size:16px; font-weight:bold;">Identification of Parties</h3>
    <p style="margin-bottom:10px;">
      This agreement is made between:
    </p>
    <ul style="margin-bottom:10px; padding-left:20px;">
      <li>
        <strong>Contractor:</strong>
        Bluegrass Roofing, a DBA of Premier Construction Group, LLC, a licensed roofing contractor operating
        in the State of Kentucky (<em>hereinafter referred to as "Contractor"</em>)
      </li>
      <li>
        <strong>Client/Homeowner:</strong>
      </li>
    </ul>

    <!-- Contact Fields (Block Layout) -->
    <div style="border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem;">
      <!-- Client Name(s) -->
      <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 1rem;">
        <label
          for="clientName"
          style="min-width: 130px; margin-right: 8px; font-weight: bold;"
        >
          Client Name(s)*:
        </label>
        <input
          type="text"
          id="clientName"
          name="clientName"
          required
          style="
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            outline: none;
            max-width: 100%;
          "
        />
      </div>

      <!-- Property Address -->
      <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 1rem;">
        <label
          for="propertyAddress"
          style="min-width: 130px; margin-right: 8px; font-weight: bold;"
        >
          Property Address*:
        </label>
        <input
          type="text"
          id="propertyAddress"
          name="propertyAddress"
          required
          style="
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            outline: none;
            max-width: 100%;
          "
        />
      </div>

      <!-- Phone Number -->
      <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 1rem;">
        <label
          for="phoneNumber"
          style="min-width: 130px; margin-right: 8px; font-weight: bold;"
        >
          Phone Number*:
        </label>
        <input
          type="text"
          id="phoneNumber"
          name="phoneNumber"
          required
          style="
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            outline: none;
            max-width: 100%;
          "
        />
      </div>

      <!-- Email Address -->
      <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 0;">
        <label
          for="emailAddress"
          style="min-width: 130px; margin-right: 8px; font-weight: bold;"
        >
          Email Address*:
        </label>
        <input
          type="text"
          id="emailAddress"
          name="emailAddress"
          required
          style="
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            outline: none;
            max-width: 100%;
          "
        />
      </div>
    </div>

    <p style="margin-bottom:10px;">
      By signing this AOB, the Client assigns to the Contractor all applicable rights, benefits, and interests under
      their property insurance policy regarding roofing services required due to damage or loss.
      <br><br>
      This includes the right to file and manage insurance claims, obtain claim-related documentation, communicate
      and negotiate directly with the insurance company, receive payments issued under the policy, and, if necessary,
      pursue legal action to recover owed benefits. This assignment is made in exchange for the Contractor’s agreement
      to complete the scope of work approved by the insurer, subject to the terms and conditions stated herein.
    </p>


  </div>



  <!-- PAGE 2 -->
  <div style="max-width:800px; margin:0 auto; padding:20px; box-sizing:border-box;">
    <h3 style="margin-top:0; font-size:16px; font-weight:bold;">1. SCOPE OF ASSIGNMENT</h3>
    <p style="margin-bottom:10px;">
      This Assignment of Benefits applies to all roofing-related insurance claims, regardless of the specific cause of damage.
      Covered claim types may include, but are not limited to, damage resulting from hail, wind, storms, fire, water intrusion,
      tree impact, and any other peril covered under the Client’s property insurance policy that affects the roofing system.
    </p>
    <p style="margin-bottom:10px;">
      The Contractor is authorized to act on the Client’s behalf in connection with any such claim related to roofing repairs
      or replacement.
    </p>
    <p style="margin-bottom:10px;">
      This Assignment may be executed before or after an insurance claim is filed.
      <ul style="margin:10px 0 10px 20px;">
        <li><em>If executed before claim filing</em>, the Contractor is authorized to assist the Client in initiating the claim process with the insurance company.</li>
        <li><em>If executed after a claim has been filed</em>, the Contractor is authorized to manage the existing claim, including communication and negotiation with the insurer regarding the approved scope of work and payment.</li>
      </ul>
    </p>
    <p style="margin-bottom:10px;">
      This Assignment applies explicitly to services provided by the Contractor that are directly related to the insured roofing loss,
      including but not limited to roof inspections and assessments, preparation and submission of estimates or documentation to the insurer,
      negotiation of claim terms and scope of work, removal of damaged roofing materials, installation of new roofing systems or materials,
      coordination with insurance adjusters and representatives, collection of insurance proceeds payable for roofing work, and any necessary
      administrative or legal steps related to insurance recovery for roofing services.
      <br><br>
      The Contractor agrees to perform all work in a professional and timely manner, in accordance with industry standards and the terms
      of the Client’s insurance policy, subject to the limitations and conditions set forth in this agreement.
    </p>

    <h3 style="margin-bottom:10px; font-size:16px; font-weight:bold;">2. AUTHORIZATION AND TRANSFER OF RIGHTS</h3>
    <p style="margin-bottom:10px;">
      By signing this Assignment of Benefits, the Client hereby assigns and transfers to Bluegrass Roofing (Premier Construction Group, LLC)
      all applicable rights and benefits under their property insurance policy related to the roofing loss. This assignment includes,
      but is not limited to, the following rights:
    </p>

  </div>


  <!-- PAGE 3 -->
  <div style="max-width:800px; margin:0 auto; padding:20px; box-sizing:border-box;">
    <h4 style="margin:0; font-size:14px; font-weight:bold;">2.1 Right to File Insurance Claims on Client’s Behalf</h4>
    <p style="margin-bottom:10px;">
      The Contractor is authorized to initiate, prepare, and file property insurance claims related to roofing damage
      directly with the Client’s insurance company. This includes submitting any necessary documentation, estimates, photographs,
      or other supporting materials required to process the claim.
    </p>

    <h4 style="margin:0; font-size:14px; font-weight:bold;">2.2 Right to Communicate, Negotiate, and Settle Claims</h4>
    <p style="margin-bottom:10px;">
      The Contractor is granted full authority to communicate directly with the insurance company, its representatives,
      and assigned adjusters for the purpose of negotiating the scope, value, and terms of the claim. The Contractor may also
      settle the claim directly on behalf of the Client, subject to the scope of work outlined in the insurer’s final approval.
    </p>

    <h4 style="margin:0; font-size:14px; font-weight:bold;">2.3 Right to Receive Claim-Related Information and Documentation</h4>
    <p style="margin-bottom:10px;">
      The Client authorizes the insurance company to release to the Contractor all documents, records, and communications related to the claim,
      including policy declarations, coverage details, adjuster reports, payment summaries, and supplement approvals and correspondence.
    </p>

    <h4 style="margin:0; font-size:14px; font-weight:bold;">2.4 Right to Direct Payment from Insurance Company</h4>
    <p style="margin-bottom:10px;">
      The Client assigns the right to receive any and all insurance proceeds related to the roofing work directly to Bluegrass Roofing.
      The Client authorizes the insurance company to issue checks or electronic payments payable solely to the Contractor to avoid delays
      and simplify the process.
    </p>

    <h4 style="margin:0; font-size:14px; font-weight:bold;">2.5 Right to Pursue Litigation or Legal Action</h4>
    <p style="margin-bottom:10px;">
      In the event the insurance company fails to properly honor or pay the claim, the Contractor is authorized to take reasonable legal action
      on the Client’s behalf to enforce payment, subject to applicable laws. This includes engaging legal counsel, submitting demands,
      or pursuing litigation or arbitration to recover owed funds for completed or contracted roofing work.
      <br><br>
      The Client understands and agrees that these rights are being transferred for the limited purpose of facilitating the repair
      and restoration of their roof and the efficient handling of the related insurance claim.
    </p>

    <h3 style="margin-bottom:10px; font-size:16px; font-weight:bold;">3. CLIENT ACKNOWLEDGMENT AND TRANSPARENCY STATEMENT</h3>
    <p style="margin-bottom:10px;">
      By signing this Assignment of Benefits (AOB), the Client affirms that they have read, understood, and voluntarily entered into this agreement.
      The Contractor has explained the purpose and effect of the AOB, and the Client has had the opportunity to ask questions and receive answers
      before signing.
    </p>
    <p style="margin-bottom:10px;">
      The Client expressly consents to assign to Bluegrass Roofing (Premier Construction Group, LLC) all rights and benefits under their property
      insurance policy that are necessary to carry out the services described in this agreement. This includes but is not limited to filing
      and managing the insurance claim, communicating with the insurer, negotiating the scope and value of the claim, and receiving direct payment
      of insurance proceeds.
    </p>


  </div>



  <!-- PAGE 4 -->
  <div style="max-width:800px; margin:0 auto; padding:20px; box-sizing:border-box;">
    <p style="margin-bottom:10px;">
      This AOB does authorize Bluegrass Roofing (Premier Construction Group, LLC) to handle the roofing insurance claim from start to finish
      on the Client’s behalf, communicate directly with the insurer and adjusters, negotiate and settle the claim,
      collect insurance payments directly from the insurance company, and perform the roofing repairs or replacement as approved by the insurer.
    </p>

    <p style="margin-bottom:10px;">
      This AOB does <strong>not</strong> authorize Bluegrass Roofing to make changes to the Client’s insurance policy, incur charges unrelated to the roofing claim,
      or collect funds in excess of the agreed-upon insurance scope unless approved in writing by the Client.
      <br><br>
      The purpose of this agreement is to simplify the claims process, ensure that the roofing project is handled professionally,
      and protect the Client from administrative burdens. The Client retains the right to receive copies of all documentation related
      to the claim and roofing work upon request.
    </p>

    <h3 style="margin-bottom:10px; font-size:16px; font-weight:bold;">4. PAYMENT TERMS AND FINANCIAL RESPONSIBILITY</h3>
    <p style="margin-bottom:10px;">
      The Client authorizes and directs their insurance company to issue all payments related to the roofing claim directly to
      Bluegrass Roofing (Premier Construction Group, LLC). This includes any initial, supplemental, or final claim payments.
      The Contractor will apply these proceeds exclusively to the roofing services performed under this agreement.
      <br><br>
      The Client remains solely responsible for paying their insurance policy deductible. The insurer does not cover this amount,
      and it must be paid directly to the Contractor in accordance with the agreed project schedule or as otherwise required under applicable law.
    </p>
    <p style="margin-bottom:10px;">
      If the Client’s insurance policy includes non-recoverable depreciation or other out-of-pocket costs, the Client agrees to pay
      those amounts directly to the Contractor. The insurer typically discloses these costs in the claim summary or Explanation of Benefits (EOB).
      The Contractor will assist in clarifying these terms upon request.
    </p>
    <p style="margin-bottom:10px;">
      The Contractor agrees not to charge the Client any fees or costs beyond what is covered by the insurance claim and identified deductible
      or depreciation amounts unless the Client requests additional work or materials and such changes are documented in a written change order
      signed by both parties.
    </p>

    <h3 style="margin-bottom:10px; font-size:16px; font-weight:bold;">5. PRICE GUARANTEE (CONDITIONAL UPON AOB)</h3>
    <p style="margin-bottom:10px;">
      Upon execution of this Assignment of Benefits (AOB), Bluegrass Roofing (Premier Construction Group, LLC) guarantees the completion of
      all roofing repairs or replacements as outlined in the scope of work approved by the Client’s insurance provider.
      This guarantee applies to the full insurer-approved amount and ensures that the project will be completed professionally and
      in accordance with the standards of the insurance settlement.
      <br><br>
      Under this Price Guarantee, the Client is responsible only for their insurance deductible and any unrecoverable depreciation or out-of-pocket
      costs not covered by their insurance policy. Bluegrass Roofing will bill directly to and collect from the insurance company all other
      approved costs associated with the roofing work.
      <br><br>
      There will be no additional charges to the Client beyond the amounts stated above unless the Client requests changes or upgrades
      beyond the insurer-approved scope. Any such changes must be agreed to in writing through a signed change order.
      <br><br>
      This Price Guarantee is part of Bluegrass Roofing’s commitment to honesty, transparency, and a hassle-free experience. By signing this AOB,
      the Client can confidently rely on the Contractor to manage the claim and complete the work without unexpected costs.
    </p>


  </div>



  <!-- PAGE 5 -->
  <div style="max-width:800px; margin:0 auto; padding:20px; box-sizing:border-box;">
    <h3 style="margin-top:0; font-size:16px; font-weight:bold;">6. REVOCATION AND CANCELLATION</h3>
    <p style="margin-bottom:10px;">
      The Client retains the right to revoke or cancel this Assignment of Benefits (AOB) only to the extent state law permits.
      Any such revocation must comply with statutory notice periods and formalities if required. Clients are encouraged to consult
      their state’s consumer protection laws or contact the Contractor with any questions before initiating a revocation.
    </p>
    <p style="margin-bottom:10px;">
      To revoke or cancel this Assignment, the Client must submit a written notice of revocation to:
      <br><br>
      <strong>Bluegrass Roofing (Premier Construction Group, LLC)</strong><br>
      3217 Summit Square Place, Suite 100. Lexington, KY 40509.<br>
      Info@bluegrass-roofing.com
      <br><br>
      The written notice must clearly state the Client’s intent to revoke the AOB and must be signed and dated by the Client.
      The revocation is not effective until it is received and acknowledged in writing by the Contractor.
    </p>
    <p style="margin-bottom:10px;">
      In the event of a valid revocation:
      <ul style="margin:10px 0 10px 20px;">
        <li>The Client remains responsible for any work already performed by the Contractor up to the date of revocation,
          including the payment of any amounts due for labor, materials, or services rendered.</li>
        <li>The Contractor will cease all communications with the insurer and halt any additional work not already performed.</li>
        <li>The Client may be required to handle the remainder of the insurance claim process, including communication with the insurer
          and payment coordination.</li>
      </ul>
      Revocation of this AOB does not relieve the Client of payment obligations for work authorized and completed prior to revocation.
    </p>

    <h3 style="margin-bottom:10px; font-size:16px; font-weight:bold;">7. WARRANTIES AND WORKMANSHIP</h3>
    <p style="margin-bottom:10px;">
      Bluegrass Roofing (Premier Construction Group, LLC) stands behind the quality of its work and offers a 1-year workmanship warranty
      on all roofing services completed under this agreement. This warranty covers defects in installation and workmanship under normal use
      and conditions.
    </p>
    <p style="margin-bottom:10px;">
      If a covered issue arises within the warranty period, Bluegrass Roofing will repair or correct the problem at no cost to the Client,
      subject to the warranty terms and conditions.
      <br><br>
      <strong>Note:</strong> The specific terms and duration of the workmanship warranty may vary depending on the type of roofing system
      installed. Clients will receive a separate warranty document detailing full coverage and limitations.
    </p>
    <p style="margin-bottom:10px;">
      In addition to the workmanship warranty, roofing materials used may be covered by manufacturer warranties, which typically include coverage
      for material defects over a specified period, depending on the product. Bluegrass Roofing will assist the Client in registering applicable
      manufacturer warranties and provide all relevant documentation upon project completion.
      <br><br>
      The Client acknowledges that manufacturer warranties are subject to the terms, conditions, and registration requirements set by the manufacturer
      and are separate from the Contractor’s workmanship warranty.
    </p>

    <!-- Logo at bottom of page 5 -->

  </div>



  <!-- PAGE 6 -->
  <div style="max-width:800px; margin:0 auto; padding:20px; box-sizing:border-box;">
    <h3 style="margin-top:0; font-size:16px; font-weight:bold;">8. CLIENT ACKNOWLEDGMENT AND SIGNATURE</h3>
    <p style="margin-bottom:10px;">
      By signing below, the Client acknowledges that they have read and fully understand the terms and conditions of this Assignment of Benefits (AOB).
      The Client affirms that they have had an opportunity to ask questions and receive clarification and voluntarily agree to assign the relevant rights
      and benefits of their insurance policy to Bluegrass Roofing (Premier Construction Group, LLC) for the purposes stated in this agreement.
    </p>
    <p style="margin-bottom:10px;">
      The Client understands that this AOB authorizes the Contractor to manage the insurance claim process, communicate with the insurer,
      receive payment directly, and perform the roofing services necessary to restore the insured property.
    </p>

    <!-- SIGNATURE FIELDS (Block Layout) -->
    <div style="margin-bottom: 20px;">

      <!-- CLIENT/HOMEOWNER 1 -->
      <div class="signature-block" style="margin-bottom: 1.5rem;">
        <h4 style="margin-bottom: 0.5rem;">Client/Homeowner 1</h4>

        <label
          for="homeowner1PrintedName"
          style="display: inline-block; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Printed Name*
        </label>
        <input
          type="text"
          required
          name="homeowner1PrintedName"
          id="homeowner1PrintedName"
          style="width: 95%; max-width:200px; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 4px; outline:none;"
        /><br>
        <label
          for="homeowner1Date"
          style="display: inline-block; margin-top: 16px; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Date*
        </label>
        <input
          type="date"
          required
          name="homeowner1Date"
          id="homeowner1Date"
          style="width: 95%; max-width:200px; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; outline:none;"
        />
      </div>

        <label
          for="signatureCanvasHomeowner1"
          style="display: inline-block; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Signature*
        </label>
        <div
          style="position: relative; width: 300px; max-width: 100%; height: 100px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 0.5rem;"
        >
          <canvas
            id="signatureCanvasHomeowner1"
            width="300"
            height="100"
            style="max-width: 100%; height: auto;"
          ></canvas>
          <button
            type="button"
            id="clearSignatureHomeowner1"
            class="clear-button"
          >
            Clear Signature
          </button>
        </div>
        <input
          type="hidden"
          required
          name="signatureHomeowner1"
          id="signatureHomeowner1"
        />



      <!-- CLIENT/HOMEOWNER 2 (OPTIONAL) -->
      <div class="signature-block" style="margin-bottom: 1.5rem; margin-top: 60px;">
        <h4 style="margin-bottom: 0.5rem;">Client/Homeowner 2 <em>(if applicable)</em></h4>

        <label
          for="homeowner2PrintedName"
          style="display: inline-block; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Printed Name
        </label>
        <input
          type="text"
          name="homeowner2PrintedName"
          id="homeowner2PrintedName"
          style="width: 95%; max-width:200px; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 4px; outline:none;"
        /><br>

        <label
          for="homeowner2Date"
          style="display: inline-block; margin-top: 16px; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Date
        </label>
        <input
          type="date"
          name="homeowner2Date"
          id="homeowner2Date"
          style="width: 95%; max-width:200px; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; outline:none;"
        />
      </div>

        <label
          for="signatureCanvasHomeowner2"
          style="display: inline-block; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Signature
        </label>
        <div
          style="position: relative; width: 300px; max-width: 100%; height: 100px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 0.5rem;"
        >
          <canvas
            id="signatureCanvasHomeowner2"
            width="300"
            height="100"
            style="max-width: 95%; height: auto;"
          ></canvas>
          <button
            type="button"
            id="clearSignatureHomeowner2"
            class="clear-button"
          >
            Clear Signature
          </button>
        </div>
        <input
          type="hidden"
          name="signatureHomeowner2"
          id="signatureHomeowner2"
        />


      <!-- CONTRACTOR REPRESENTATIVE -->
      <div class="signature-block" style="margin-bottom: 1.5rem; margin-top: 60px;">
        <h4 style="margin-bottom: 0.5rem;">Contractor Representative</h4>

        <label
          for="contractorRepPrintedName"
          style="display: inline-block; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Printed Name
        </label>
        <input
          type="text"
          name="contractorRepPrintedName"
          id="contractorRepPrintedName"
          style="width: 95%; max-width:200px; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 4px; outline:none;"
        /><br>
        <label
          for="contractorRepDate"
          style="display: inline-block; margin-top: 16px; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Date
        </label>
        <input
          type="date"
          name="contractorRepDate"
          id="contractorRepDate"
          style="width: 95%; max-width:200px; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; outline:none;"
        />
      </div>

        <label
          for="signatureCanvasContractorRep"
          style="display: inline-block; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Signature
        </label>
        <div
          style="position: relative; width: 300px; max-width: 100%; height: 100px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 0.5rem;"
        >
          <canvas
            id="signatureCanvasContractorRep"
            width="300"
            height="100"
            style="max-width: 100%; height: auto;"
          ></canvas>
          <button
            type="button"
            id="clearSignatureContractorRep"
            class="clear-button"
          >
            Clear Signature
          </button>
        </div>
        <input
          type="hidden"
          name="signatureContractorRep"
          id="signatureContractorRep"
        />



      <!-- TITLE -->
      <div class="signature-block" style="margin-bottom: 1.5rem; margin-top: 60px;">
        <h4 style="margin-bottom: 0.5rem;">Title</h4>

        <label
          for="contractorRepTitle"
          style="display: inline-block; margin-bottom: 0.25rem; font-weight: 600;"
        >
          Contractor Rep Title
        </label>
        <input
          type="text"
          name="contractorRepTitle"
          id="contractorRepTitle"
          style="width: 95%; max-width:200px; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 4px; outline:none;"
        /><br>


      </div>
    </div>

  </div>

  <!-- SCRIPT to Initialize the Signature Pads AND postMessage logic -->
  <script>
    // SignaturePad and canvas variables in outer scope so they can be used in both init and message handlers
    var canvas1, signaturePad1, clearBtn1;
    var canvas2, signaturePad2, clearBtn2;
    var canvasRep, signaturePadRep, clearBtnRep;
  
    // 1) Initialize SignaturePads on each canvas
    document.addEventListener('DOMContentLoaded', function() {
      // HOMEOWNER 1
      canvas1   = document.getElementById('signatureCanvasHomeowner1');
      clearBtn1 = document.getElementById('clearSignatureHomeowner1');
      if (canvas1) {
        signaturePad1 = new SignaturePad(canvas1);
        signaturePad1.addEventListener('endStroke', function() {
          var dataUrl1 = signaturePad1.toDataURL('image/png');
          document.getElementById('signatureHomeowner1').value = dataUrl1;
        });
        if (clearBtn1) {
          clearBtn1.addEventListener('click', function() {
            signaturePad1.clear();
            document.getElementById('signatureHomeowner1').value = '';
          });
        }
      }
  
      // HOMEOWNER 2
      canvas2   = document.getElementById('signatureCanvasHomeowner2');
      clearBtn2 = document.getElementById('clearSignatureHomeowner2');
      if (canvas2) {
        signaturePad2 = new SignaturePad(canvas2);
        signaturePad2.addEventListener('endStroke', function() {
          var dataUrl2 = signaturePad2.toDataURL('image/png');
          document.getElementById('signatureHomeowner2').value = dataUrl2;
        });
        if (clearBtn2) {
          clearBtn2.addEventListener('click', function() {
            signaturePad2.clear();
            document.getElementById('signatureHomeowner2').value = '';
          });
        }
      }
  
      // CONTRACTOR REP
      canvasRep   = document.getElementById('signatureCanvasContractorRep');
      clearBtnRep = document.getElementById('clearSignatureContractorRep');
      if (canvasRep) {
        signaturePadRep = new SignaturePad(canvasRep);
        signaturePadRep.addEventListener('endStroke', function() {
          var dataUrlRep = signaturePadRep.toDataURL('image/png');
          document.getElementById('signatureContractorRep').value = dataUrlRep;
        });
        if (clearBtnRep) {
          clearBtnRep.addEventListener('click', function() {
            signaturePadRep.clear();
            document.getElementById('signatureContractorRep').value = '';
          });
        }
      }
  
      // Additional signature pads if needed...
    });
  
    // 2) Gather all AOB fields + signatures when requested
    function gatherAobFields() {
      // Main Contact Fields
      const clientName               = document.getElementById('clientName').value;
      const propertyAddress          = document.getElementById('propertyAddress').value;
      const phoneNumber              = document.getElementById('phoneNumber').value;
      const emailAddress             = document.getElementById('emailAddress').value;
  
      // Homeowner 1
      const homeowner1PrintedName    = document.getElementById('homeowner1PrintedName').value;
      const signatureHomeowner1      = document.getElementById('signatureHomeowner1').value;
      const homeowner1Date           = document.getElementById('homeowner1Date').value;
  
      // Homeowner 2
      const homeowner2PrintedName    = document.getElementById('homeowner2PrintedName').value;
      const signatureHomeowner2      = document.getElementById('signatureHomeowner2').value;
      const homeowner2Date           = document.getElementById('homeowner2Date').value;
  
      // Contractor Rep
      const contractorRepPrintedName = document.getElementById('contractorRepPrintedName').value;
      const signatureContractorRep   = document.getElementById('signatureContractorRep').value;
      const contractorRepDate        = document.getElementById('contractorRepDate').value;
  
      // Title
      const contractorRepTitle       = document.getElementById('contractorRepTitle').value;

  
      return {
        clientName,
        propertyAddress,
        phoneNumber,
        emailAddress,
        homeowner1PrintedName,
        signatureHomeowner1,
        homeowner1Date,
        homeowner2PrintedName,
        signatureHomeowner2,
        homeowner2Date,
        contractorRepPrintedName,
        signatureContractorRep,
        contractorRepDate,
        contractorRepTitle,
      
      };
    }
  
    // 3) Listen for parent↔child messages
    window.addEventListener('message', function(e) {
      // a) Prepopulate fields + draw admin-provided signature images
      if (e.data && e.data.type === 'INITIALIZE_AOB_DATA') {
        var pf = e.data.payload || {};
  
        // Utility to disable and/or make readonly an input
        function lockField(el) {
          if (!el) return;
          el.readOnly = true;
          el.disabled = true;
          el.classList.add('readonly');
        }
  
        // TEXT/DATE inputs
        [
          'clientName',
          'propertyAddress',
          'phoneNumber',
          'emailAddress',
          'homeowner1PrintedName',
          'homeowner1Date',
          'homeowner2PrintedName',
          'homeowner2Date',
          'contractorRepPrintedName',
          'contractorRepDate',
          'contractorRepTitle',
     
        ].forEach(function(id) {
          var inp = document.getElementById(id);
          if (!inp) return;
          var val = pf[id];
          if (val != null && val !== '') {
            inp.value = val;
            lockField(inp);
          }
        });
  
        // SIGNATURE pads
        if (pf.signatureHomeowner1) {
          document.getElementById('signatureHomeowner1').value = pf.signatureHomeowner1;
          var img1 = new Image();
          img1.onload = function() {
            signaturePad1 && signaturePad1._ctx.drawImage(img1, 0, 0, canvas1.width, canvas1.height);
            canvas1.style.pointerEvents = 'none';
            clearBtn1.disabled = true;
          };
          img1.src = pf.signatureHomeowner1;
        }
        if (pf.signatureHomeowner2) {
          document.getElementById('signatureHomeowner2').value = pf.signatureHomeowner2;
          var img2 = new Image();
          img2.onload = function() {
            signaturePad2 && signaturePad2._ctx.drawImage(img2, 0, 0, canvas2.width, canvas2.height);
            canvas2.style.pointerEvents = 'none';
            clearBtn2.disabled = true;
          };
          img2.src = pf.signatureHomeowner2;
        }
        if (pf.signatureContractorRep) {
          document.getElementById('signatureContractorRep').value = pf.signatureContractorRep;
          var imgRep = new Image();
          imgRep.onload = function() {
            signaturePadRep && signaturePadRep._ctx.drawImage(imgRep, 0, 0, canvasRep.width, canvasRep.height);
            canvasRep.style.pointerEvents = 'none';
            clearBtnRep.disabled = true;
          };
          imgRep.src = pf.signatureContractorRep;
        }
      }
      // b) Parent requests data back
      else if (e.data === 'REQUEST_AOB_DATA') {
        var payload = gatherAobFields();
        window.parent.postMessage({ type: 'AOB_FORM_DATA', payload }, '*');
      }
    });
  </script>
  
  

</body>
</html>
