// views/layouts/portalLayout.pug
doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")

    // Global styles + portal-specific styles
    link(rel="stylesheet" href="/css/main.css")
    link(rel="stylesheet" href="/css/portal.css")

    // Font imports
    link(rel="stylesheet", href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css")
    link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css")

    title= pageTitle || 'BlueGrass Roofing'
    link(rel="icon" type="image/x-icon" href="/images/favicon.png")
    // Open Graph Tags
    meta(property="og:title", content= ogTitle || pageTitle || 'BlueGrass Roofing')
    meta(property="og:description", content="Expert roofing solutions with instant quotes and hassle-free service")
    meta(property="og:image", content="https://frozen-mesa-65259-dc1782d8662a.herokuapp.com//images/social-preview.png")
    meta(property="og:url", content="https://frozen-mesa-65259-dc1782d8662a.herokuapp.com/")
    meta(property="og:type", content="website")
    
    // Twitter Card Tags
    meta(name="twitter:card", content="summary_large_image")
    meta(name="twitter:title", content= ogTitle || pageTitle || 'BlueGrass Roofing')
    meta(name="twitter:description", content="Expert roofing solutions with instant quotes and hassle-free service")
    meta(name="twitter:image", content="https://frozen-mesa-65259-dc1782d8662a.herokuapp.com//images/social-preview.png")

    block pageStyles

  body
    // Portal-specific header
    header.portal-header
      .portal-header-left
        a.navbar-brand(href="/")
          img.logo(src="/images/bg-logo.png" alt="BlueGrass Roofing Logo")
          //- span.brand-name BlueGrass
          //- span.sub-brand Roofing

      .portal-header-right
        a.logout-link(href="/logout")
          i.fa-solid.fa-arrow-right-from-bracket
          span Logout

    // Main content area
    main
      block content
    //â€“ Floating Chat Button
    button#msgToggle.floating-msg-btn(type="button" aria-label="Open Messages")
      i.fa.fa-comments
      span#msgCount.badge 0

    // Optional global scripts or specialized portal scripts
    script.
      window.sessionUserId = '!{(locals && locals.user && locals.user._id) || ""}';
    
    script(src="/js/animations.js")
    block pageScripts
